(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-825e3592"],{"0f48":function(t,e,a){"use strict";a("53f7")},"45af":function(t,e,a){"use strict";a("5655")},"53f7":function(t,e,a){},5655:function(t,e,a){},6923:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heading-title-breadcrumb",attrs:{id:"heading-title-breadcrumb"}},[a("div",{staticClass:"title-section"},[a("p",{staticClass:"page-title"},[t._v(t._s(t.routeName_))])]),a("div",{staticClass:"breadcrumb-section"},[a("p",{staticClass:"breadcrumb-sec"},t._l(t.paths,(function(e,n){return a("a",{key:n},[a("span",{on:{click:function(a){return t.sbuClick(e.name)}}},[t._v(t._s(e.name))]),e.sep?a("span",[t._v(" / ")]):t._e()])})),0)])])},o=[],i=(a("ac1f"),a("5319"),{props:["pathName","routeName"],data:function(){return{routeName_:this.routeName,paths:[]}},created:function(){this.bereadCrumbCreator()},methods:{bereadCrumbCreator:function(){for(var t={sep:" / "},e=0;e<this.pathName.length;e++)this.paths.push(this.pathName[e]),e+1<this.pathName.length&&this.paths.push(t)},sbuClick:function(t){"SBU"===t&&this.$router.replace("/adm/sbu")}}}),s=i,l=(a("0f48"),a("2877")),_=Object(l["a"])(s,n,o,!1,null,"7b00c412",null);e["a"]=_.exports},"74cd":function(t,e,a){},"9bd4":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("c975");var n=a("d4ec"),o=a("bee2"),i=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,[{key:"searchById_LeftSidebar",value:function(t,e,a){for(var n=0;n<e.length;n++){var o=e[n].querySelectorAll("."+a)[0];if(o){var i=o.textContent||o.innerText;i.toUpperCase().indexOf(t)>-1?e[n].style.display="":e[n].style.display="none"}}}},{key:"searchByID_Name_Details_Section",value:function(t,e,a){for(var n=0;n<e.length;n++){var o=e[n].querySelectorAll("."+a)[0];if(o){var i=o.textContent||o.innerText;i.toUpperCase().indexOf(t)>-1?e[n].style.display="":e[n].style.display="none"}}}},{key:"searchByDateRange",value:function(t,e,a,n,o){document.getElementById("total_order_counter").textContent=o;for(var i=0,s=0;s<a.length;s++){var l=a[s].querySelectorAll("."+n)[0];if(l){var _=l.textContent||l.innerText;new Date(_)>=t&&new Date(_)<=e?(a[s].style.display="",i++):a[s].style.display="none"}}document.getElementById("total_order_counter").textContent=i}}]),t}()},"9e24":function(t,e,a){"use strict";a("b162")},b162:function(t,e,a){},be5f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sd_collection",attrs:{id:"sd_collection"}},[a("Heading",{attrs:{pathName:t.pathName,routeName:t.routeName}}),a("div",{staticClass:"layout-body"},[a("CollectionSidebar",{on:{select_da_from_left:t.selectDAFromLeft}}),a("CollectionDetails",{attrs:{DS_CUSTOMER_LIST:t.DS_CUSTOMER_LIST}})],1)],1)},o=[],i=(a("b0c0"),a("96cf"),a("1da1")),s=a("1136"),l=a("6923"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-sidebar collection",attrs:{id:"layout_sidebar_collection"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"row1"},[a("div",{staticClass:"form-group"},[a("i",{staticClass:"fa fa-search"}),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Search by Name, ID No",id:"search-filter"},on:{keyup:t.searchKeyUpHandler}})]),a("span",{staticClass:"filter_search",on:{click:t.openFilterModal}},[a("i",{staticClass:"fa fa-filter"})])])]),a("div",{staticClass:"content"},t._l(t.SCHEDULE_LIST,(function(e,n){return a("div",{key:n,staticClass:"card_body",attrs:{id:"card_body_"+n},on:{click:function(a){return t.singleCardItemClickHandler(e,n)}}},[a("div",{staticClass:"row1"},[a("h5",{staticClass:"jmi-txt-nowrap-ellipsis-middle_50",staticStyle:{width:"160px"}},[a("i",{staticClass:"fa fa-square mr-1",class:e.legend_status,attrs:{"aria-hidden":"true"}}),t._v(t._s(e.da_name))]),a("p",{staticClass:"date"},[t._v(t._s(t.listOfDsDateFormat(e.date)))])]),a("div",{staticClass:"row2"},[a("p",[t._v("Total Collection: "),a("span",[t._v(t._s(e.total_amount))])])]),a("div",{staticClass:"row3"},[a("p",[t._v(t._s(e.territory_name))])]),a("p",{staticClass:"jmi-search-key hide"},[t._v(t._s(t.createSearchString(e)))])])})),0),t.filter_modal?a("div",{staticClass:"modal-popup-section filter-modal",attrs:{id:"filter-modal"}},[a("div",{staticClass:"modal-popup-section-inner filter-modal-inner"},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content",attrs:{id:"collection-modalContent"}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("Filter")]),a("button",{staticClass:"close",staticStyle:{padding:"10px","margin-top":"-9px"},attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.closeFilterModalClickHandler}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._m(0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary btn-global btn-filterSerach",attrs:{type:"button"},on:{click:t.filterSearchBtnClickHandler}},[t._v("Search")])])])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"date_range"}},[t._v("Filter by Sales Force")]),a("select",{staticClass:"form-control"},[a("option",{attrs:{value:""}},[t._v("Select Sales Force")]),a("option",{attrs:{value:""}},[t._v("Mehedi Hassan")]),a("option",{attrs:{value:""}},[t._v("Atik Faysal")]),a("option",{attrs:{value:""}},[t._v("Nahid Ahmed")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"date_range"}},[t._v("Set Date Range")]),a("input",{staticClass:"form-control",attrs:{type:"date",id:"date_range"}})]),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"Adjust"}}),a("label",{staticClass:"form-check-label",attrs:{for:"Adjust"}},[t._v(" Adjust ")])]),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"Pending"}}),a("label",{staticClass:"form-check-label",attrs:{for:"Pending"}},[t._v(" Pending ")])]),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"Unadjusted",checked:""}}),a("label",{staticClass:"form-check-label",attrs:{for:"Unadjusted"}},[t._v(" Unadjusted ")])])])}],d=a("d1a8"),c=a("9bd4"),u=new s["a"],m=new d["a"],C=new c["a"],p={data:function(){return{filter_modal:!1,SCHEDULE_LIST:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.DELIVERY_SCHEDULE_LIST_FOR_COLLECTION__FROM_SERVICE();case 2:case"end":return e.stop()}}),e)})))()},methods:{openFilterModal:function(){this.filter_modal?this.filter_modal=!1:this.filter_modal=!0},closeFilterModalClickHandler:function(){this.filter_modal=!1},filterSearchBtnClickHandler:function(){this.filter_modal=!1},listOfDsDateFormat:function(t){return m.dateFormatT4(t)},singleCardItemClickHandler:function(t,e){console.log(e),console.log(t);for(var a=document.querySelectorAll("#layout_sidebar_collection .card_body").length,n=0;n<a;n++)document.querySelector("#card_body_"+n).className="card_body";"card_body"===document.querySelector("#card_body_"+e).className?document.querySelector("#card_body_"+e).className="card_body jmi-active":document.querySelector("#card_body_"+e).className="card_body",this.$emit("select_da_from_left",t)},createSearchString:function(t){return t.da_name+" "+t.date+" "+t.id+" "+t.legend_status+" "+t.territory_name+" "+t.total_amount},searchKeyUpHandler:function(t){console.log(t.key);var e=document.getElementById("search-filter"),a=e.value.toUpperCase(),n=document.querySelectorAll("#layout_sidebar_collection .card_body"),o="jmi-search-key";C.searchById_LeftSidebar(a,n,o)},DELIVERY_SCHEDULE_LIST_FOR_COLLECTION__FROM_SERVICE:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.SCHEDULE_LIST=null,e.next=3,u.getDeliveryScheduleListForCollection_COLLECTION_LEFT().then((function(e){console.log(e.data),200!==e.data.response_code&&201!==e.data.response_code||(t.SCHEDULE_LIST=e.data.list_of_ds)})).catch((function(e){e&&(console.log(e),t.SCHEDULE_LIST=null)}));case 3:case"end":return e.stop()}}),e)})))()}}},S=p,v=(a("45af"),a("2877")),E=Object(v["a"])(S,_,r,!1,null,"65da7268",null),O=E.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-container",attrs:{id:"layout_container_collection_details"}},[a("div",{staticClass:"container-fluid",staticStyle:{padding:"0"}},[a("div",{staticClass:"row collection_area"},[!t.DS_CUSTOMER_LIST?t._e():a("div",{staticClass:"col-4",staticStyle:{height:"100%","padding-top":"12px","padding-bottom":"0"}},[a("table",{staticClass:"collection-table-1"},[a("thead",[a("tr",[a("th",{staticClass:"type1",attrs:{colspan:"2"}},[a("h5",[t._v("Customers ("),a("span",[t._v(t._s(t.DS_CUSTOMER_LIST?t.DS_CUSTOMER_LIST.length:0))]),t._v(")")]),t._m(0)])]),t._m(1)]),a("tbody",t._l(t.DS_CUSTOMER_LIST,(function(e,n){return a("tr",{key:n,staticClass:"customer_card_body",staticStyle:{cursor:"pointer"},attrs:{id:"customer_card_body_"+n},on:{click:function(a){return t.singleCustomerClickHandler(e,n)}}},[a("td",[a("p",[a("span",{staticClass:"fa fa-square mr-2",class:e.legend_status}),t._v(t._s(e.customer_name?e.customer_name:""))])]),a("td",{staticStyle:{padding:"0"}},[a("p",{staticStyle:{"min-width":"80px","font-size":"10px"}},[t._v(t._s(e.type?e.type:""))])]),a("td",[a("p",[t._v(t._s(e.total_amount?Number(e.total_amount).toFixed(2):""))])])])})),0),a("tfoot",[a("tr",[a("th",[t._v("Total")]),a("th"),a("th",[t._v(t._s(Number(t.DS_CUSTOMER_LIST_TOTAL_AMOUNT).toFixed(2)))])])])])]),t.COLLECTION_MASTER_CUSTOMER?a("div",{staticClass:"col-8",staticStyle:{height:"100%","padding-top":"12px"}},[a("table",{staticClass:"collection-table-2"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"5"}},[a("h5",[t._v("Collections ("),a("span",[t._v(t._s(t.COLLECTION_MASTER_CUSTOMER?t.COLLECTION_MASTER_CUSTOMER.length:0))]),t._v(")")])])]),t._m(2)]),a("tbody",t._l(t.COLLECTION_MASTER_CUSTOMER,(function(e,n){return a("tr",{key:n,staticStyle:{height:"50px"}},[a("td",{staticStyle:{"flex-basis":"10%"}},[a("p",{staticStyle:{cursor:"pointer",color:"var(--blue)"},on:{click:function(a){return t.collectionMasterRowClickHandler(e,n)}}},[t._v(t._s(e.collection_mode?e.collection_mode:""))])]),a("td",{staticStyle:{"flex-basis":"35%"}},[a("p",[t._v(t._s(e.description?e.description:""))])]),a("td",{staticStyle:{"flex-basis":"15%"}},[a("p",[t._v(t._s(e.amount?Number(e.amount).toFixed(2):""))])]),a("td",{staticStyle:{"flex-basis":"15%"}},[a("p",[t._v(t._s(e.unadjusted_amt?Number(e.unadjusted_amt).toFixed(2):""))])]),a("td",{staticStyle:{"flex-basis":"15%"}},[a("p",[t._v(t._s(e.value_date?t.dateFormat(e.value_date):""))])]),a("td",{staticStyle:{"flex-basis":"10%"}},[a("a",[a("i",{staticClass:"zmdi zmdi-refresh",on:{click:function(a){return t.collectionAutoAdjustClickHandler(e,n)}}})])])])})),0),a("tfoot",[a("tr",[a("th",{staticStyle:{"flex-basis":"10%"}},[t._v("Total")]),a("th",{staticStyle:{"flex-basis":"35%"}}),a("th",{staticStyle:{"flex-basis":"15%"}},[t._v(t._s(Number(t.COLLECTION_MASTER_CUSTOMER_TOTAL_AMOUNT.amount).toFixed(2)))]),a("th",{staticStyle:{"flex-basis":"15%"}},[t._v(t._s(Number(t.COLLECTION_MASTER_CUSTOMER_TOTAL_AMOUNT.unadj_amount).toFixed(2)))]),a("th",{staticStyle:{"flex-basis":"15%"}}),a("th",{staticStyle:{"flex-basis":"10%"}})])])]),a("table",{staticClass:"collection-table-3"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"7"}},[a("h5",[t._v("Invoices ("),a("span",[t._v(t._s(t.COLLECTION_CUSTOMER_INVOICE_LIST?t.COLLECTION_CUSTOMER_INVOICE_LIST.length:0))]),t._v(")")])])]),t._m(3)]),a("tbody",t._l(t.COLLECTION_CUSTOMER_INVOICE_LIST,(function(e,n){return a("tr",{key:n},[a("td",{staticStyle:{"min-width":"14%"}},[a("p",[t._v(t._s(e.invoice?e.invoice:""))])]),a("td",{staticStyle:{"min-width":"14%"}},[a("p",[t._v(t._s(e.date?t.dateFormat(e.date):""))])]),a("td",{staticStyle:{"min-width":"12%"}},[a("p",[t._v(t._s(e.amount?Number(e.amount).toFixed(2):""))])]),a("td",{staticStyle:{"min-width":"12%"}},[a("p",[t._v(t._s(e.paid?Number(e.paid).toFixed(2):""))])]),a("td",{staticStyle:{"min-width":"13%"}},[a("p",[t._v(t._s(e.pending?Number(e.pending).toFixed(2):""))])]),a("td",{staticStyle:{"min-width":"12%"}},[a("p",[t._v(t._s(e.due?Number(e.due).toFixed(2):""))])]),a("td",{staticStyle:{"min-width":"13%"}},[a("p",[t._v(t._s(e.adjustment?Number(e.adjustment).toFixed(2):""))])]),a("td",{staticStyle:{"min-width":"10%"}},[a("a",{attrs:{"data-toggle":"modal","data-target":"#edit-collection-modal"}},[a("i",{staticClass:"zmdi zmdi-edit",on:{click:function(a){return t.editCollectionInvoiceModalClickHandler(e)}}})]),a("a",{attrs:{"data-toggle":"modal","data-target":"#add-collection-modal"}},[a("i",{staticClass:"zmdi zmdi-plus",on:{click:function(a){return t.addCollectionInvoiceModalClickHandler(e)}}})])])])})),0),a("tfoot",[a("tr",[a("th",{staticStyle:{"min-width":"10%"}},[t._v("Total")]),a("th",{staticStyle:{"min-width":"15%"}}),a("th",{staticStyle:{"min-width":"15%"}},[t._v(t._s(Number(t.COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL.amount).toFixed(2)))]),a("th",{staticStyle:{"min-width":"12%"}},[t._v(t._s(Number(t.COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL.paid).toFixed(2)))]),a("th",{staticStyle:{"min-width":"13%"}},[t._v(t._s(Number(t.COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL.pending).toFixed(2)))]),a("th",{staticStyle:{"min-width":"12%"}},[t._v(t._s(Number(t.COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL.due).toFixed(2)))]),a("th",{staticStyle:{"min-width":"13%"}},[t._v(t._s(Number(t.COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL.adjustment).toFixed(2)))]),a("th")])])])]):t._e()])]),a("div",{staticClass:"modal",attrs:{id:"add-collection-modal",tabindex:"-1",role:"dialog","aria-labelledby":"AddCollection","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(4),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"invoice_no"}},[t._v("Invoice No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_number,expression:"add_inv_number"}],staticClass:"form-control",attrs:{type:"text",id:"invoice_no",value:"INV23414545",readonly:""},domProps:{value:t.add_inv_number},on:{input:function(e){e.target.composing||(t.add_inv_number=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"date"}},[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_date,expression:"add_inv_date"}],staticClass:"form-control",attrs:{type:"text",id:"date",value:"20-Oct-2021",readonly:""},domProps:{value:t.add_inv_date},on:{input:function(e){e.target.composing||(t.add_inv_date=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"invoice_due"}},[t._v("Due")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_total_due,expression:"add_inv_total_due"}],staticClass:"form-control",attrs:{type:"number",id:"invoice_due",value:"100000",readonly:""},domProps:{value:t.add_inv_total_due},on:{input:function(e){e.target.composing||(t.add_inv_total_due=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"invoice_adjustment"}},[t._v("Adjustment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_adjustment_inp,expression:"add_inv_adjustment_inp"}],staticClass:"form-control",staticStyle:{"background-color":"#FFFFFF"},attrs:{type:"number",id:"invoice_adjustment",placeholder:"Enter Adjustment Amount"},domProps:{value:t.add_inv_adjustment_inp},on:{input:function(e){e.target.composing||(t.add_inv_adjustment_inp=e.target.value)}}})])])]),a("div",{staticClass:"modal-footer justify-content-center"},[a("button",{staticClass:"btn btn-primary btn-global",attrs:{type:"button"},on:{click:t.addCollectionModalSaveClickHandler}},[t._v("Save")])])])])]),a("div",{staticClass:"modal",attrs:{id:"edit-collection-modal",tabindex:"-1",role:"dialog","aria-labelledby":"EditCollection","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog  modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(5),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_invoice_no"}},[t._v("Invoice No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_number,expression:"add_inv_number"}],staticClass:"form-control",attrs:{type:"text",id:"update_inv_amount_invoice_no",value:"INV23414545",readonly:""},domProps:{value:t.add_inv_number},on:{input:function(e){e.target.composing||(t.add_inv_number=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_date"}},[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_date,expression:"add_inv_date"}],staticClass:"form-control",attrs:{type:"text",id:"update_inv_amount_date",value:"20-Oct-2021",readonly:""},domProps:{value:t.add_inv_date},on:{input:function(e){e.target.composing||(t.add_inv_date=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_invoice_total"}},[t._v("Amount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.update_inv_amount,expression:"update_inv_amount"}],staticClass:"form-control",attrs:{type:"number",id:"update_inv_amount_invoice_total",value:"100000",readonly:""},domProps:{value:t.update_inv_amount},on:{input:function(e){e.target.composing||(t.update_inv_amount=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_invoice_due"}},[t._v("Due")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_total_due,expression:"add_inv_total_due"}],staticClass:"form-control",attrs:{type:"number",id:"update_inv_amount_invoice_due",value:"100000",readonly:""},domProps:{value:t.add_inv_total_due},on:{input:function(e){e.target.composing||(t.add_inv_total_due=e.target.value)}}})]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_adjustment"}},[t._v("Adjustment")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add_inv_adjustment,expression:"add_inv_adjustment"}],staticClass:"form-control",attrs:{type:"number",id:"update_inv_amount_adjustment",value:"100000","aria-describedby":"addon1",readonly:""},domProps:{value:t.add_inv_adjustment},on:{input:function(e){e.target.composing||(t.add_inv_adjustment=e.target.value)}}}),t._m(6)])]),a("div",{staticClass:"col-lg-6 form-group"},[a("label",{attrs:{for:"update_inv_amount_amount"}},[t._v("Amount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.update_inv_amount_inp,expression:"update_inv_amount_inp"}],staticClass:"form-control",staticStyle:{"background-color":"#FFFFFF"},attrs:{type:"number",id:"update_inv_amount_amount",placeholder:"Enter Adjustment Amount"},domProps:{value:t.update_inv_amount_inp},on:{input:function(e){e.target.composing||(t.update_inv_amount_inp=e.target.value)}}})])])]),a("div",{staticClass:"modal-footer justify-content-center"},[a("button",{staticClass:"btn btn-primary btn-global",attrs:{type:"button"},on:{click:t.editCollectionModalSaveClickHandler}},[t._v("Save")])])])])]),t.msg_popup_modal?a("div",{staticClass:"modal-popup-section order-proceed-modal"},[a("div",{staticClass:"modal-popup-section-inner order-proceed-modal-inner"},[a("div",{staticClass:"jmi-progressbar",attrs:{id:"progressbar"}},[a("p",[t._v(t._s(t.msg_popup_modal_msg?t.msg_popup_modal_msg:"No message"))])])])]):t._e()])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about-color"},[a("p",[a("span",{staticClass:"fa fa-square green"}),t._v("Adjusted")]),a("p",[a("span",{staticClass:"fa fa-square orange"}),t._v("Pending")]),a("p",[a("span",{staticClass:"fa fa-square gray"}),t._v("Unadjusted")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Customer")]),a("th",[t._v("Type")]),a("th",[t._v("Amount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{"flex-basis":"10%"}},[t._v("Mode")]),a("th",{staticStyle:{"flex-basis":"35%"}},[t._v("Description")]),a("th",{staticStyle:{"flex-basis":"15%"}},[t._v("Amount")]),a("th",{staticStyle:{"flex-basis":"15%"}},[t._v("Unadjusted")]),a("th",{staticStyle:{"flex-basis":"15%"}},[t._v("Value Date")]),a("th",{staticStyle:{"flex-basis":"10%"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{"min-width":"14%"}},[t._v("Invoice")]),a("th",{staticStyle:{"min-width":"14%","text-align":"center"}},[t._v("Date")]),a("th",{staticStyle:{"min-width":"12%"}},[t._v("Amount")]),a("th",{staticStyle:{"min-width":"12%"}},[t._v("Paid")]),a("th",{staticStyle:{"min-width":"13%"}},[t._v("Panding")]),a("th",{staticStyle:{"min-width":"12%"}},[t._v("Due")]),a("th",{staticStyle:{"min-width":"13%"}},[t._v("Adjustment")]),a("th",{staticStyle:{"min-width":"10%"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Add Invoice Amount")]),a("button",{staticClass:"close",attrs:{type:"button",id:"add-collection-modal-close-btn","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Update Invoice Amount")]),a("button",{staticClass:"close",attrs:{type:"button",id:"edit-collection-modal-close-btn","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("i",{staticClass:"zmdi zmdi-delete"})])}],h=new s["a"],I=new d["a"],L={props:["DS_CUSTOMER_LIST"],data:function(){return{SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST:null,COLLECTION_MASTER_CUSTOMER:null,COLLECTION_CUSTOMER_INVOICE_LIST:null,SELECTED_DSC_ID:null,msg_popup_modal:!1,msg_popup_modal_msg:null,add_inv_number:null,add_inv_date:null,add_inv_total_due:null,add_inv_adjustment:null,add_inv_adjustment_inp:null,update_inv_amount:null,update_inv_amount_inp:null,SELECTED_DS_CUS_MODE:null}},computed:{DS_CUSTOMER_LIST_TOTAL_AMOUNT:function(){var t=0;if(this.DS_CUSTOMER_LIST)for(var e=0;e<this.DS_CUSTOMER_LIST.length;e++)t+=parseFloat(this.DS_CUSTOMER_LIST[e].total_amount);return t},COLLECTION_MASTER_CUSTOMER_TOTAL_AMOUNT:function(){var t={amount:0,unadj_amount:0};if(this.COLLECTION_MASTER_CUSTOMER)for(var e=0;e<this.COLLECTION_MASTER_CUSTOMER.length;e++)t.amount+=parseFloat(this.COLLECTION_MASTER_CUSTOMER[e].amount),t.unadj_amount+=parseFloat(this.COLLECTION_MASTER_CUSTOMER[e].unadjusted_amt);return t},COLLECTION_CUSTOMER_INVOICE_LIST_TOTAL:function(){var t={amount:0,paid:0,pending:0,due:0,adjustment:0};if(this.COLLECTION_CUSTOMER_INVOICE_LIST)for(var e=0;e<this.COLLECTION_CUSTOMER_INVOICE_LIST.length;e++)t.amount+=this.COLLECTION_CUSTOMER_INVOICE_LIST[e].amount?parseFloat(this.COLLECTION_CUSTOMER_INVOICE_LIST[e].amount):0,t.paid+=this.COLLECTION_CUSTOMER_INVOICE_LIST[e].paid?parseFloat(this.COLLECTION_CUSTOMER_INVOICE_LIST[e].paid):0,t.pending+=this.COLLECTION_CUSTOMER_INVOICE_LIST[e].pending?parseFloat(this.COLLECTION_CUSTOMER_INVOICE_LIST[e].pending):0,t.due+=this.COLLECTION_CUSTOMER_INVOICE_LIST[e].due?parseFloat(this.COLLECTION_CUSTOMER_INVOICE_LIST[e].due):0,t.adjustment+=this.COLLECTION_CUSTOMER_INVOICE_LIST[e].adjustment?parseFloat(this.COLLECTION_CUSTOMER_INVOICE_LIST[e].adjustment):0;return t}},created:function(){},mounted:function(){},methods:{singleCustomerClickHandler:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(console.log(t),a.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST=null,a.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST=t,o=document.querySelectorAll("#layout_container_collection_details .customer_card_body").length,i=0;i<o;i++)document.querySelector("#customer_card_body_"+i).className="customer_card_body";"customer_card_body"===document.querySelector("#customer_card_body_"+e).className?document.querySelector("#customer_card_body_"+e).className="customer_card_body jmi-active":document.querySelector("#customer_card_body_"+e).className="customer_card_body",a.DS_COLLECTION_MASTER_CUSTOMER_BY_DS_ID_CUSTOMER_ID__FROM_SERVICE(t.ds_id,t.customer_id);case 7:case"end":return n.stop()}}),n)})))()},dateFormat:function(t){return I.dateFormatT4(t)},collectionAutoAdjustClickHandler:function(t,e){console.log(e),console.log(t),console.log(this.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST),this.SELECTED_DSC_ID=null,this.SELECTED_DSC_ID=t.id;var a={ds_id:this.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST.ds_id,customer_id:this.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST.customer_id,collection_mode:t.collection_mode};this.SELECTED_DS_CUS_MODE=a,this.COLLECTION_AUTO_ADJUST__FROM_SERVICE(t.id)},collectionMasterRowClickHandler:function(t,e){console.log(e),console.log(t);var a=this.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST.ds_id,n=this.SELECTED_CUSTOMER_DA_ID_FROM_CUSTOMER_LIST.customer_id,o=t.collection_mode;this.DS_COLLECTION_CUSTOMER_INVOICE_LIST_BY_DS_ID_CUSTOMER_ID_COLLECTION_MODE__FROM_SERVICE(a,n,o)},editCollectionInvoiceModalClickHandler:function(t){this.add_inv_number=t.invoice,this.add_inv_date=this.dateFormat(t.date),this.update_inv_amount=t.amount,this.add_inv_total_due=t.due,this.add_inv_adjustment=t.adjustment,this.update_inv_amount_inp=null},addCollectionInvoiceModalClickHandler:function(t){this.add_inv_number=t.invoice,this.add_inv_date=this.dateFormat(t.date),this.add_inv_total_due=t.due,this.add_inv_adjustment_inp=null},addCollectionModalSaveClickHandler:function(){document.getElementById("add-collection-modal-close-btn").click(),this.DS_COLLECTION_INVOICE_ADJUST__FROM_SERVICE(this.SELECTED_DSC_ID,this.add_inv_number,this.update_inv_amount_inp)},editCollectionModalSaveClickHandler:function(){document.getElementById("edit-collection-modal-close-btn").click(),this.DS_COLLECTION_INVOICE_ADJUST__FROM_SERVICE(this.SELECTED_DSC_ID,this.add_inv_number,this.add_inv_adjustment_inp)},DS_COLLECTION_MASTER_CUSTOMER_BY_DS_ID_CUSTOMER_ID__FROM_SERVICE:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.COLLECTION_MASTER_CUSTOMER=null,n.next=3,h.getDSCollectionMasterCustomerByDSID_CustomerId_COLLECTION_DETAILS(t,e).then((function(t){console.log(t.data),200!==t.data.response_code&&201!==t.data.response_code||(a.COLLECTION_MASTER_CUSTOMER=t.data.collection_list)})).catch((function(t){t&&(console.log(t),a.COLLECTION_MASTER_CUSTOMER=null)}));case 3:case"end":return n.stop()}}),n)})))()},DS_COLLECTION_CUSTOMER_INVOICE_LIST_BY_DS_ID_CUSTOMER_ID_COLLECTION_MODE__FROM_SERVICE:function(t,e,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.COLLECTION_CUSTOMER_INVOICE_LIST=null,o.next=3,h.getDSCollectionCustomerInvoiceListByDSID_CustomerId_COLLECTION_DETAILS(t,e,a).then((function(t){console.log(t.data),200!==t.data.response_code&&201!==t.data.response_code||(n.COLLECTION_CUSTOMER_INVOICE_LIST=t.data.all_invoice)})).catch((function(t){t&&(console.log(t),n.COLLECTION_CUSTOMER_INVOICE_LIST=null)}));case 3:case"end":return o.stop()}}),o)})))()},COLLECTION_AUTO_ADJUST__FROM_SERVICE:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e.SELECTED_DS_CUS_MODE),e.msg_popup_modal=!0,e.msg_popup_modal_msg="Please wait. We are processing...",a.next=5,h.getCollectionAutoAdjust_COLLECTION_DETAILS(t).then((function(t){console.log(t.data),200===t.data.response_code||201===t.data.response_code?(e.msg_popup_modal_msg=t.data.message,e.DS_COLLECTION_MASTER_CUSTOMER_BY_DS_ID_CUSTOMER_ID__FROM_SERVICE(e.SELECTED_DS_CUS_MODE.ds_id,e.SELECTED_DS_CUS_MODE.customer_id),e.DS_COLLECTION_CUSTOMER_INVOICE_LIST_BY_DS_ID_CUSTOMER_ID_COLLECTION_MODE__FROM_SERVICE(e.SELECTED_DS_CUS_MODE.ds_id,e.SELECTED_DS_CUS_MODE.customer_id,e.SELECTED_DS_CUS_MODE.collection_mode)):e.msg_popup_modal_msg=t.data.message+" Response code : "+t.data.response_code+".",setTimeout((function(){e.msg_popup_modal=!1,e.msg_popup_modal_msg=null}),2e3)})).catch((function(t){t&&(console.log(t),e.msg_popup_modal_msg=t,setTimeout((function(){e.msg_popup_modal=!1,e.msg_popup_modal_msg=null}),2e3))}));case 5:case"end":return a.stop()}}),a)})))()},DS_COLLECTION_INVOICE_ADJUST__FROM_SERVICE:function(t,e,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.msg_popup_modal=!0,n.msg_popup_modal_msg="Please wait. We are processing...",o.next=4,h.getCollectionAdjust_COLLECTION_DETAILS(t,e,a).then((function(t){console.log(t.data),200===t.data.response_code||201===t.data.response_code?(n.msg_popup_modal_msg=t.data.message,n.DS_COLLECTION_MASTER_CUSTOMER_BY_DS_ID_CUSTOMER_ID__FROM_SERVICE(n.SELECTED_DS_CUS_MODE.ds_id,n.SELECTED_DS_CUS_MODE.customer_id),n.DS_COLLECTION_CUSTOMER_INVOICE_LIST_BY_DS_ID_CUSTOMER_ID_COLLECTION_MODE__FROM_SERVICE(n.SELECTED_DS_CUS_MODE.ds_id,n.SELECTED_DS_CUS_MODE.customer_id,n.SELECTED_DS_CUS_MODE.collection_mode)):n.msg_popup_modal_msg=t.data.message+" Response code : "+t.data.response_code+".",setTimeout((function(){n.msg_popup_modal=!1,n.msg_popup_modal_msg=null}),2e3)})).catch((function(t){t&&(console.log(t),n.msg_popup_modal_msg=t,setTimeout((function(){n.msg_popup_modal=!1,n.msg_popup_modal_msg=null}),2e3))}));case 4:case"end":return o.stop()}}),o)})))()}},watch:{DS_CUSTOMER_LIST:function(t){t&&(this.COLLECTION_MASTER_CUSTOMER=null,this.COLLECTION_CUSTOMER_INVOICE_LIST=null)}}},g=L,b=(a("e5ff"),Object(v["a"])(g,T,f,!1,null,"dfc5c9c6",null)),D=b.exports,y=new s["a"],R={props:[],components:{Heading:l["a"],CollectionSidebar:O,CollectionDetails:D},data:function(){return{routeName:"Collection",parentPath:"Local Sales",pathName:[],DS_CUSTOMER_LIST:null}},created:function(){this.$emit("routeName",this.$route.name),this.createBreadcrumbData()},methods:{createBreadcrumbData:function(){this.pathName=[{name:"Features"},{name:"Local Sales"},{name:"Collection"}]},selectDAFromLeft:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,e.DELIVERY_SCHEDULE_CUSTOMER_LIST__FROM_SERVICE(t.id);case 3:case"end":return a.stop()}}),a)})))()},DELIVERY_SCHEDULE_CUSTOMER_LIST__FROM_SERVICE:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.DS_CUSTOMER_LIST=null,a.next=3,y.getDeliveryScheduleCustomerListByID_COLLECTION_DETAILS(t).then((function(t){console.log(t.data),e.DS_CUSTOMER_LIST=t.data.customer_list})).catch((function(t){t&&(console.log("Server error : "+t),e.DS_CUSTOMER_LIST=null)}));case 3:case"end":return a.stop()}}),a)})))()}}},M=R,N=(a("9e24"),Object(v["a"])(M,n,o,!1,null,null,null));e["default"]=N.exports},d1a8:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("fb6a"),a("d3b7"),a("25f0");var n=a("d4ec"),o=a("bee2"),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,[{key:"dateFormatT1",value:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},{key:"dateFormatT2",value:function(t){var e=new Date(t);return i[e.getMonth()]+" "+e.getFullYear().toString().slice(-2)}},{key:"dateFormatT3",value:function(t){var e=new Date(t);return i[e.getMonth()]+" "+e.getFullYear().toString()}},{key:"dateFormatT4",value:function(t){var e=new Date(t);return e.getDate()+" "+i[e.getMonth()]+" "+e.getFullYear().toString()}}]),t}()},e5ff:function(t,e,a){"use strict";a("74cd")}}]);
//# sourceMappingURL=chunk-825e3592.b6e8d623.js.map